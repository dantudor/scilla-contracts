scilla_version 0
(***************************************************)
(*               Associated library                *)
(***************************************************)
library LoveZilliqa
let one = Uint256 1
let tt = True
contract LoveZilliqa
(authorName : String, twitterID : String)
(*+oooooooooooooooooooo++o+++////////ooosssoooo+++///////////++++oooooo+++++++o//ooo++oooooooooooooooo*)
(*+oooooooooooooooooo++//+++/////////++++++++++///:://///////////////////////+++++++///////////////+++*)
(*ooooooooooo+++++++/////////////////////////////::://::::/+o/::/+o+/////////////////:::::::::::::///:*)
(*oooo+ooooo++////::::::://////////::::::////oooydhys//syhdyydddysshyyo::::::::::::::::::::::::::::::+*)
(*++++++++++///://:::/:/:::::://+oyyhddhyhddddmmmhyhdhyooyhyyhhyyhhdyoyss:-/o+//::::::::::-:::::::::++*)
(*//////////////////:::::/+oyhdmmmhydmmmmmmmddmhyhhdddhddyso+oyyyhdhhoyo+/:+oysy+--::::oyhhhhhyssoo++/*)
(*////////::::::::::::/shmmmmNNmh+:/yddddmmmdhhhdddmdhhys++ooosyyhhyhyyyysy+:syhho/oyysyyhhyyyo+hddddd*)
(*::::::::::::::::::::hmmmNNNNNmssyyddddhhdhddddddddhhhhhddddddddhhhyshhhyhhyhhdhyyhyhhssysosys+ydhhhh*)
(*::::::::/osso+ossssyhdmmmmmmmmdmmmmddddmmmddhhhdmmmdmmdddddddddddddshyhyhhhhhdhdhhyhhsyysooyyyshdddd*)
(*:::::-:odddddddddddddmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmdddddddddddddddyhddhyyhhhhdhhysyyossssssysyhhhhy*)
(*::::-:+dhdddmmmmmmmmmmmmmmmmmmmmmmmmmmdmmmmmmmmmmmmddddddddddddddddhdsddshdhyydhhhh+yhyhhhhhhyyhdddd*)
(*::-..-odhdmmdddddmdmmddmddmmmmmmmmmmdmddmmmmmmmmmmdmmdddddddddddddhhdsddyyddhhhhhhhsshhhhhhshydddddd*)
(*---.`/hdymmmmmdmmmddmmmmddddddddmddddddddddddddddddddddddhhddddddhddddhddddddhddhhhhhdddddh+dhhhdmdd*)
(*:--.:oyhsdddhdddddhhddmdddddddhdddddyhhdddhhddhhhdddddhhhhdddddmydyddmhddhdddhdddddhdddddddydhhyommm*)
(*---.-:sdhsmhmmddmmdddmmmmmmmmhhdddddyyhddddddddhdddddddhhhddmmmmmddmmyhdmdmddddmddddhhhhhhhyhhhd+dmd*)
(*-----hydmdmmmmmmmmmmmmmmdmmmdddddhyhhhdhhhhhhhhhhddhdddhddmmmmmmd:dmm+hmmmmmmmmmmmmmmmmmmmmmmmmmymmm*)
(*-----+shmNNmNNNmmmmmmmdddddddddhyso++oysossssysyhdddddddmmmmmmmmmsymmddmmmdmmmmmmdddmmmdmmmmmmmddmmm*)
(*-------/ssdmmmNNNNNmmmmmmmmmddyyso+/.----+++oyhhddddmmddmmmmmmmmmmhhmdmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm*)
(*-------:::os+/+osyhmmmmNNNNmmmdhyys:..```.:+yhdddddmmdmmdmmmmmmmddhmmdmmmmmmmmmdmmmmmmmmmmmmmmmmmmmm*)
(*------::::::-:::::/+s++ymmmmmmmmdys:..``.-/shddddddmmmmmmmmmNmmmdmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm*)
(*-------------++::--::://+hhdhddmmhs/////oyhdhddmmmdddmmmmmmmmmNmNNmmNmmmdmmmmmmmmmNNmmmmmmmmmmmmmmmm*)
(*:-----------oys//:--:::::///+oyhyoyhhdddhhhhhhdmmddddmmmmmmmmmNmNNNNmmmdymmmmmNNmmNNmmmmmmmmmmmmmmmm*)
(*-----------/syho+/::::::::::///+sydmmmmhhhhddddddmmmmmNNNNNNNNNmmmNNmmdodmmmmNNNNmdmmmmmmmmmmmmmmmdm*)
(*----------:+yhhyys/:::::::///+shdmdddhhdhddmmmmmmmmmmmNNNNNNNNNNNmmNmmdmNNNNNNNNmmmmmmmmmmmmmmmmmmhm*)
(*----:::----:/syo+:::::::::/shdddhdhhddhdddmmmmmmmmmmmNNNNNNNNNNNNNNNNNmNNNNNNNNNmmmmmmmmmhNmmmmmmdym*)
(*:----------:oo+:::-:::::::+ssssyhhhddddddddmmmmmmNNNNNNNNNNNNNNNmNNNNNmmmNNNNNNmmmmmmmmmdhmmmmmmmhhm*)
(*::-----------+o::--:::::///+hhhdddddddddddmmmmmmmNNNNNNNNNmNNNNmNNNNNmmNNmNNNNNmmmmmmmmmdmmmmmmmmymm*)
(*//:::---------::::::::::+syhdddddddddddmmmmmmmNNmmNNNNNNNNNNNNNNNNmNNmmNNmNmNmmmmmmmmmmmdmmmmmmmddmd*)
(*///:::--------:::::::::/ydmdddddddmdddmmdhdmdhhyyydmmNNNNNNmmmNNNNNNNNNNNNNNmmmmdmmmmmmmdmmddmmmdmmm*)
(*///::::---:---:::::::::/ydddmmmmmmmmmmdso+o+/:///+sdyhmNNNNNNNNNNNNmNNNNNmmNmmmmmmmNmmmmdmddddddmmmm*)
(*//:::::--:::--::::::::::/ohdmmmmmmmmds////////+++//oydyyymNNNNNNNmNNNNNNNNNNmNmmmmmmmmmmmmddddmmmmmm*)
(*/::::-----::::::::::::::://+yddmmdy/:////////++++////+oysshmNNNNNNNNNNNNNNNNmmNNmmmmmmmmmmmmmmmmmmmm*)
(*/::::------:::::::::::////////+o+////////////++++++/++++++osdmmmNmmNmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmd*)
(*::::::-----::::::::::::////////////////////////++++++++++++++shdmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm*)
(*::::------:::::::::::::////////////////////////////+/++++++++++shhdmmmmmmmmmmmmmmmddmmmddmmdmdmmmmmm*)
(*:::::::--:::::::::::::::://///////////////////////+++++++++++++++oyhdhmmmmmmmmmmmdmmdddmmmmdddmmmmmm*)
(*:::::---::::::::::::::::::////////////////////////+++++++++++++++o++++hmmmddmmdmdddddmdmdmddddmmmdmm*)
(*:::::::::::::::::::::::::::::::::////:///////////+/+//+++++++++++++++++ydsodmsddddddmmmmmmmmmdmmmmdd*)
(*::::::::::::::::::::::::::::::/::////////////////++++++++++++++++++++++++ooddyhdddddddddddddmdmddddm*)
(*:::::::::::::::::::::::::://///////////////////++++++++++++++++++++++++++++++++sddddddddddddmmdddddd*)
(*::::::::::::::::::::::::/:////////////////////+++++++++++++++++++++++++++++++o++yddddddddddddmdddddd*)
(*::::::::::::::::::::::::://///////////////////++++++++++++++++++o++++++++++++oooossooyhddddddddddddd*)
(*:::::::::/::::::::::::::::///////////////////++++++++++++++++++++++++++s++oooooooooooo+oyhdddddddddd*)
(*:/::::::::::::::::::::/:////////////////////++++++++++++++++++++++++++++ooooo::ooooooo+++shddhhddhhh*)
field author_name : String = "Matt Dyer"
field twitter_id : String = "MattDDyer"
field upvote_counter : Uint256 = Uint256 0
field vote_map : Map ByStr20 Bool = Emp ByStr20 Bool
transition upvote()
  has_voted <- exists vote_map[_sender];
  current_vote_count <- upvote_counter;
  match has_voted with
  | True =>
    e = {_eventname : "AlreadyVoted"; current_upvote_count: current_vote_count};
    event e
  | False =>
    new_vote_count = builtin add current_vote_count one;
    vote_map[_sender] := tt;
    upvote_counter := new_vote_count;
    e = {_eventname : "Voted"; shoutout : "Zilliqa loves you!"; new_vote_count: new_vote_count};
    event e
  end
end
transition whoami()
 author <- author_name;
 twitter <- twitter_id;
 e = {_eventname : "Whoami"; author_name : author; twitter_id : twitter};
 event e
end